var P=Object.defineProperty,R=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(s,t,r)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,n=(s,t)=>{for(var r in t||(t={}))x.call(t,r)&&f(s,r,t[r]);if(m)for(var r of m(t))v.call(t,r)&&f(s,r,t[r]);return s},d=(s,t)=>R(s,h(t));var p=(s,t,r)=>new Promise((u,a)=>{var c=o=>{try{e(r.next(o))}catch(i){a(i)}},l=o=>{try{e(r.throw(o))}catch(i){a(i)}},e=o=>o.done?u(o.value):Promise.resolve(o.value).then(c,l);e((r=r.apply(s,t)).next())});import{createRsbuild as b,mergeRsbuildConfig as D}from"@rsbuild/core";import{pluginLess as O}from"@rsbuild/plugin-less";import{pluginReact as w}from"@rsbuild/plugin-react";import{pluginSass as I}from"@rsbuild/plugin-sass";var g=({dev:s,less:t,sass:r,index:u,dist:a,port:c,banner:l,reactRuntime:e,proxy:o,rsConfig:i})=>D({mode:s?"development":"production",source:{entry:{index:u}},output:{cleanDistPath:!s,distPath:{root:a}},plugins:[w({swcReactOptions:{development:s,refresh:s,runtime:e}}),r?I({sassLoaderOptions:{sassOptions:{silenceDeprecations:["import","color-functions","global-builtin"]}}}):void 0,t?O({lessLoaderOptions:{lessOptions:{javascriptEnabled:!0}}}):void 0].filter(Boolean),tools:{bundlerChain:y=>{y.stats("errors-only")},rspack:{devtool:s?"cheap-module-source-map":!1}},dev:{progressBar:l?{id:l}:!1,hmr:!0,client:{protocol:"ws",host:"127.0.0.1",port:"<port>"},cliShortcuts:!1},server:{strictPort:!0,port:c,proxy:o}},i),C={less:!0,sass:!0,index:"./src/index",dist:"./dist",reactRuntime:"automatic",rsConfig:{}};function k(s){return p(this,null,function*(){(yield b({rsbuildConfig:g(d(n(n({},C),s),{dev:!0}))})).startDevServer()})}function q(s){return p(this,null,function*(){return(yield b({rsbuildConfig:g(d(n(n({},C),s),{dev:!1}))})).build()})}export{q as build,k as run};
