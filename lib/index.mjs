var P=Object.defineProperty,R=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(s,r,t)=>r in s?P(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,n=(s,r)=>{for(var t in r||(r={}))x.call(r,t)&&f(s,t,r[t]);if(m)for(var t of m(r))v.call(r,t)&&f(s,t,r[t]);return s},c=(s,r)=>R(s,h(r));var p=(s,r,t)=>new Promise((u,a)=>{var d=e=>{try{o(t.next(e))}catch(i){a(i)}},l=e=>{try{o(t.throw(e))}catch(i){a(i)}},o=e=>e.done?u(e.value):Promise.resolve(e.value).then(d,l);o((t=t.apply(s,r)).next())});import{createRsbuild as g,mergeRsbuildConfig as w}from"@rsbuild/core";import{pluginLess as O}from"@rsbuild/plugin-less";import{pluginReact as D}from"@rsbuild/plugin-react";import{pluginSass as I}from"@rsbuild/plugin-sass";var b=({dev:s,less:r,sass:t,index:u,dist:a,port:d,banner:l,reactRuntime:o,proxy:e,rsConfig:i})=>w({mode:s?"development":"production",source:{entry:{index:u}},output:{cleanDistPath:!s,distPath:{root:a}},plugins:[D({swcReactOptions:{development:s,refresh:s,runtime:o}}),t?I({sassLoaderOptions:{sassOptions:{logger:{warn(){}}}}}):void 0,r?O({lessLoaderOptions:{lessOptions:{javascriptEnabled:!0}}}):void 0].filter(Boolean),tools:{bundlerChain:y=>{y.stats("errors-only")},rspack:{devtool:s?"cheap-module-source-map":!1}},dev:{progressBar:l?{id:l}:!1,hmr:!0,client:{protocol:"ws",host:"127.0.0.1",port:"<port>"},cliShortcuts:!1},server:{strictPort:!0,port:d,proxy:e}},i),C={less:!0,sass:!0,index:"./src/index",dist:"./dist",reactRuntime:"automatic",rsConfig:{}};function k(s){return p(this,null,function*(){(yield g({rsbuildConfig:b(c(n(n({},C),s),{dev:!0}))})).startDevServer()})}function q(s){return p(this,null,function*(){return(yield g({rsbuildConfig:b(c(n(n({},C),s),{dev:!1}))})).build()})}export{q as build,k as run};
