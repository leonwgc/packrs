var P=Object.defineProperty,R=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var f=(s,t,r)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,n=(s,t)=>{for(var r in t||(t={}))v.call(t,r)&&f(s,r,t[r]);if(m)for(var r of m(t))x.call(t,r)&&f(s,r,t[r]);return s},c=(s,t)=>R(s,h(t));var p=(s,t,r)=>new Promise((u,a)=>{var d=e=>{try{o(r.next(e))}catch(i){a(i)}},l=e=>{try{o(r.throw(e))}catch(i){a(i)}},o=e=>e.done?u(e.value):Promise.resolve(e.value).then(d,l);o((r=r.apply(s,t)).next())});import{createRsbuild as b,mergeRsbuildConfig as w}from"@rsbuild/core";import{pluginLess as D}from"@rsbuild/plugin-less";import{pluginReact as I}from"@rsbuild/plugin-react";import{pluginSass as B}from"@rsbuild/plugin-sass";var g=({dev:s,less:t,sass:r,index:u,dist:a,port:d,banner:l,reactRuntime:o,proxy:e,rsConfig:i})=>w({mode:s?"development":"production",source:{entry:{index:u}},output:{cleanDistPath:!0,distPath:{root:a}},plugins:[I({swcReactOptions:{development:s,refresh:s,runtime:o}}),r?B():void 0,t?D({lessLoaderOptions:{lessOptions:{javascriptEnabled:!0}}}):void 0].filter(Boolean),tools:{bundlerChain:y=>{y.stats("errors-only")},rspack:{devtool:s?"cheap-module-source-map":!1}},dev:{progressBar:l?{id:l}:!1,hmr:!0,client:{protocol:"ws",host:"127.0.0.1",port:"<port>"},cliShortcuts:!1},server:{strictPort:!0,port:d,proxy:e}},i),C={less:!0,sass:!0,index:"./src/index",dist:"./dist",reactRuntime:"automatic",rsConfig:{}};function k(s){return p(this,null,function*(){(yield b({rsbuildConfig:g(c(n(n({},C),s),{dev:!0}))})).startDevServer()})}function q(s){return p(this,null,function*(){(yield b({rsbuildConfig:g(c(n(n({},C),s),{dev:!1}))})).build()})}export{q as build,k as run};
